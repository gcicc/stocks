# Technical Analysis Guide

## Core Technical Indicators

### Triple Exponential Moving Average (TEMA)

TEMA is an advanced smoothing technique that reduces lag compared to traditional moving averages.

**Mathematical Formula:**
```
EMA1 = EMA(Price, Period)
EMA2 = EMA(EMA1, Period)  
EMA3 = EMA(EMA2, Period)
TEMA = 3 * EMA1 - 3 * EMA2 + EMA3
```

**Signal Interpretation:**
- **Price Above TEMA**: Bullish trend confirmation
- **Price Below TEMA**: Bearish trend confirmation
- **TEMA Slope**: Rising = uptrend, Falling = downtrend

**Advantages:**
- Reduces noise while maintaining responsiveness
- Earlier trend identification than simple moving averages
- Less susceptible to false signals

### Momentum Analysis

Momentum measures the rate of price change over time periods.

**Natural Momentum Formula:**
```
Momentum = (Current Price / Price N periods ago) - 1
```

**Multi-Timeframe Analysis:**
- **Short-term**: 5-day momentum for immediate trends
- **Medium-term**: 14-day momentum for swing trading
- **Long-term**: 30-day momentum for position trading

**Momentum Scoring:**
- **Positive Momentum**: Prices accelerating upward
- **Negative Momentum**: Prices decelerating or falling
- **Zero Momentum**: Price consolidation or reversal

### Volume Confirmation

Volume validates price movements and signal strength.

**Volume Analysis:**
- **Volume Spike + Price Rise**: Strong buying pressure
- **Volume Spike + Price Fall**: Strong selling pressure
- **Low Volume + Price Movement**: Weak trend, potential reversal

**Volume Indicators:**
- **Above Average Volume**: Confirms signal strength
- **Below Average Volume**: Questions signal validity

## Signal Generation Logic

### BUY Signal Criteria

**Primary Conditions (All Must Be Met):**
1. **Price Position**: Current price > TEMA
2. **Momentum**: Positive across multiple timeframes
3. **Trend Direction**: TEMA slope rising
4. **Volume**: Above average volume on breakout

**Secondary Confirmations:**
- Multi-timeframe alignment (5D, 14D, 30D all positive)
- No bearish divergence detected
- Strength threshold exceeded (>0.005 default)
- Confidence score above minimum threshold

**Signal Strength Classification:**
- **Strong BUY**: All criteria met with high confidence (>0.7)
- **Moderate BUY**: Most criteria met with medium confidence (0.4-0.7)
- **Weak BUY**: Minimum criteria met with low confidence (<0.4)

### SELL Signal Criteria

**Primary Conditions (All Must Be Met):**
1. **Price Position**: Current price < TEMA
2. **Momentum**: Negative across multiple timeframes
3. **Trend Direction**: TEMA slope falling
4. **Volume**: Above average volume on breakdown

**Secondary Confirmations:**
- Multi-timeframe alignment (5D, 14D, 30D all negative)
- Bearish divergence detected
- Strength threshold exceeded in negative direction
- Confidence score above minimum threshold

**Signal Strength Classification:**
- **Strong SELL**: All criteria met with high confidence (>0.7)
- **Moderate SELL**: Most criteria met with medium confidence (0.4-0.7)
- **Weak SELL**: Minimum criteria met with low confidence (<0.4)

### HOLD Signal Criteria

**HOLD signals are generated when:**
- Mixed momentum signals across timeframes
- Price near TEMA with unclear trend direction
- Insufficient volume to confirm breakout/breakdown
- Confidence score below actionable threshold
- Conflicting technical indicators

**HOLD Subcategories:**
- **Bullish HOLD**: Slight bullish bias but insufficient for BUY
- **Bearish HOLD**: Slight bearish bias but insufficient for SELL
- **Neutral HOLD**: No clear directional bias

## Advanced Signal Features

### Divergence Detection

**Bullish Divergence:**
- Price makes lower lows
- Momentum makes higher lows
- Potential reversal signal (bearish to bullish)

**Bearish Divergence:**
- Price makes higher highs
- Momentum makes lower highs
- Potential reversal signal (bullish to bearish)

### Adaptive Thresholds

The system dynamically adjusts signal thresholds based on:
- **Market Volatility**: Higher volatility = higher thresholds
- **Historical Performance**: Better performing thresholds get preference
- **Market Regime**: Bull/bear market adjustments

### Signal Confirmation

**Multi-Layer Confirmation Process:**
1. **Primary Signal**: Generated by core TEMA/momentum logic
2. **Volume Confirmation**: Validated by trading volume
3. **Multi-Timeframe Check**: Confirmed across time horizons
4. **Divergence Analysis**: Checked for conflicting signals
5. **Final Classification**: Assigned confidence and strength scores

## Decision Matrix

| Condition | BUY | HOLD | SELL |
|-----------|-----|------|------|
| Price vs TEMA | Above | Near | Below |
| Momentum (5D) | Positive | Mixed | Negative |
| Momentum (14D) | Positive | Mixed | Negative |
| Momentum (30D) | Positive | Mixed | Negative |
| TEMA Slope | Rising | Flat | Falling |
| Volume | High | Normal | High |
| Divergence | None/Bull | Mixed | Bearish |
| Confidence | >0.4 | Any | >0.4 |

## Implementation Notes

### Backtesting Mode Adjustments

In backtesting mode, the system makes these adjustments:
- **Lower Thresholds**: More sensitive to generate sufficient trades
- **Relaxed Filters**: Reduced direction confirmation requirements
- **Extended Lookback**: Longer historical analysis periods

### Real-Time vs Historical Analysis

**Real-Time Mode:**
- Stricter signal requirements
- Higher confidence thresholds
- More conservative position sizing

**Historical Mode:**
- Optimized for trade generation
- Balanced risk/return parameters
- Comprehensive backtesting validation

### Performance Optimization

**Signal Processing:**
- Vectorized calculations using NumPy/Pandas
- Efficient rolling window computations
- Cached intermediate results

**Memory Management:**
- Streaming data processing for large datasets
- Automatic cleanup of old calculations
- Optimized data structures

## Troubleshooting Common Issues

### No Signals Generated

**Possible Causes:**
- Thresholds too high for current market volatility
- Insufficient historical data for momentum calculations
- All stocks in sideways/consolidation phase

**Solutions:**
- Lower strength_threshold parameter
- Increase lookback period for momentum
- Check data quality and completeness

### Too Many Signals

**Possible Causes:**
- Thresholds too low causing noise
- High market volatility period
- Short-term momentum dominating

**Solutions:**
- Increase strength_threshold parameter
- Enable signal confirmation features
- Use longer timeframe analysis

### Inconsistent Signal Quality

**Possible Causes:**
- Market regime changes
- Insufficient volume confirmation
- Mixed timeframe signals

**Solutions:**
- Enable adaptive thresholds
- Increase volume confirmation requirements
- Use multi-timeframe alignment filters